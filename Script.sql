-- MySQL Script generated by MySQL Workbench
-- Thu Dec  7 14:21:14 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema team9
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema team9
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `team9` DEFAULT CHARACTER SET utf8 ;
USE `team9` ;

-- -----------------------------------------------------
-- Table `team9`.`CUSTOMER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`CUSTOMER` (
  `CUST_ID` INT NOT NULL AUTO_INCREMENT,
  `CUST_NAME` VARCHAR(45) NOT NULL,
  `CUST_SURNAME` VARCHAR(45) NULL,
  `CUST_EMAIL` VARCHAR(45) NOT NULL,
  `CUST_NET_ID` VARCHAR(45) NULL,
  `CUST_MAJOR` VARCHAR(45) NULL,
  `CUST_TYPE` ENUM('student', 'online') NOT NULL,
  `CUST_ADDR_LINE_1` VARCHAR(220) NULL,
  `CUST_ADDR_LINE_2` VARCHAR(220) NULL,
  `CUST_CITY` VARCHAR(45) NULL,
  `CUST_STATE` VARCHAR(45) NULL,
  `CUST_COUNTRY` VARCHAR(45) NULL,
  `CUST_ZIP_CODE` VARCHAR(45) NULL,
  `CUST_CAT` INT NULL,
  PRIMARY KEY (`CUST_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`PROJECT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`PROJECT` (
  `PROJ_ID` INT NOT NULL AUTO_INCREMENT,
  `PROJ_NAME` VARCHAR(45) NULL,
  `PROJ_DESC` VARCHAR(45) NULL,
  `PROJ_STRT_TIME` DATETIME NULL,
  `PROJ_END_TIME` DATETIME NULL,
  PRIMARY KEY (`PROJ_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`USER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`USER` (
  `USR_ID` INT NOT NULL,
  `USR_NAME` VARCHAR(45) NOT NULL,
  `USR_SURNAME` VARCHAR(45) NULL,
  `USR_EMAIL` VARCHAR(45) NOT NULL,
  `USR_NET_ID` VARCHAR(45) NULL,
  `USR_MAJOR` VARCHAR(45) NULL,
  PRIMARY KEY (`USR_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`ROLE_DEFINITION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`ROLE_DEFINITION` (
  `USR_ROLE_ID` INT NOT NULL,
  `USR_ROLE_NAME` VARCHAR(45) NOT NULL,
  `HOURLY_WAGE` DOUBLE NOT NULL,
  PRIMARY KEY (`USR_ROLE_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`ROLE_MAPPER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`ROLE_MAPPER` (
  `ROLE_MPR_ID` INT NOT NULL,
  `ROLE_STRT_DATE` DATETIME NOT NULL,
  `PROJ_ID` INT NULL,
  `USR_ID` INT NULL,
  `USR_ROLE_ID` INT NOT NULL,
  `IS_EFFECTIVE` TINYINT NOT NULL,
  PRIMARY KEY (`ROLE_MPR_ID`),
  INDEX `fk_ROLE_MAPPER_PROJECT1_idx` (`PROJ_ID` ASC),
  INDEX `fk_ROLE_MAPPER_USER1_idx` (`USR_ID` ASC),
  INDEX `fk_ROLE_MAPPER_ROLE_DEFINITION1_idx` (`USR_ROLE_ID` ASC),
  CONSTRAINT `fk_ROLE_MAPPER_PROJECT1`
    FOREIGN KEY (`PROJ_ID`)
    REFERENCES `team9`.`PROJECT` (`PROJ_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ROLE_MAPPER_USER1`
    FOREIGN KEY (`USR_ID`)
    REFERENCES `team9`.`USER` (`USR_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ROLE_MAPPER_ROLE_DEFINITION1`
    FOREIGN KEY (`USR_ROLE_ID`)
    REFERENCES `team9`.`ROLE_DEFINITION` (`USR_ROLE_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`USR_LOG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`USR_LOG` (
  `USR_LOG_ID` INT NOT NULL AUTO_INCREMENT,
  `USR_SIGNIN` DATETIME NULL,
  `USR_SIGNOUT` DATETIME NULL,
  `USR_CLOSINGNOTE` VARCHAR(220) NULL,
  `USR_ID` INT NOT NULL,
  PRIMARY KEY (`USR_LOG_ID`),
  INDEX `fk_USR_LOG_USER1_idx` (`USR_ID` ASC),
  CONSTRAINT `fk_USR_LOG_USER1`
    FOREIGN KEY (`USR_ID`)
    REFERENCES `team9`.`USER` (`USR_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`VENDOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`VENDOR` (
  `VEN_ID` INT NOT NULL,
  `VEN_NAME` VARCHAR(45) NULL,
  `VEN_CONT_PERSON` VARCHAR(45) NULL,
  `VEN_EMAIL` VARCHAR(45) NULL,
  `VEN_CONT_NUM` INT NULL,
  PRIMARY KEY (`VEN_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`VENDOR_ORDER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`VENDOR_ORDER` (
  `VEN_ORD_ID` INT NOT NULL AUTO_INCREMENT,
  `VEN_ORD_TIME` DATETIME NULL,
  `VEN_ID` INT NOT NULL,
  PRIMARY KEY (`VEN_ORD_ID`),
  INDEX `fk_RECEIPT_VENDOR1_idx` (`VEN_ID` ASC),
  CONSTRAINT `fk_RECEIPT_VENDOR1`
    FOREIGN KEY (`VEN_ID`)
    REFERENCES `team9`.`VENDOR` (`VEN_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`MATERIAL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`MATERIAL` (
  `MTL_ID` INT NOT NULL,
  `MTL_NAME` VARCHAR(45) NULL,
  `MTL_QOH` VARCHAR(45) NULL,
  `MTL_TYPE` VARCHAR(45) NULL,
  PRIMARY KEY (`MTL_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`VENDOR_ORDER_LINE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`VENDOR_ORDER_LINE` (
  `VEN_ORD_LINE_ID` INT NOT NULL,
  `VEN_ORD_LINE_AMOUNT` DOUBLE NULL,
  `VEN_ORD_ID` INT NOT NULL,
  `MTL_ID` INT NULL,
  PRIMARY KEY (`VEN_ORD_LINE_ID`),
  INDEX `fk_RECEIPT_LINE_RECEIPT1_idx` (`VEN_ORD_ID` ASC),
  INDEX `fk_VENDOR_ORDER_LINE_MATERIAL1_idx` (`MTL_ID` ASC),
  CONSTRAINT `fk_RECEIPT_LINE_RECEIPT1`
    FOREIGN KEY (`VEN_ORD_ID`)
    REFERENCES `team9`.`VENDOR_ORDER` (`VEN_ORD_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_VENDOR_ORDER_LINE_MATERIAL1`
    FOREIGN KEY (`MTL_ID`)
    REFERENCES `team9`.`MATERIAL` (`MTL_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`EQUIPMENT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`EQUIPMENT` (
  `EQM_ID` INT NOT NULL AUTO_INCREMENT,
  `EQM_NAME` VARCHAR(45) NULL,
  `VEN_ORD_LINE_ID` INT NULL,
  PRIMARY KEY (`EQM_ID`),
  INDEX `fk_EQUIPMENT_VENDOR_ORDER_LINE1_idx` (`VEN_ORD_LINE_ID` ASC),
  CONSTRAINT `fk_EQUIPMENT_VENDOR_ORDER_LINE1`
    FOREIGN KEY (`VEN_ORD_LINE_ID`)
    REFERENCES `team9`.`VENDOR_ORDER_LINE` (`VEN_ORD_LINE_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`MAINTENANCE_LOG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`MAINTENANCE_LOG` (
  `MAINT_ID` INT NOT NULL AUTO_INCREMENT,
  `MAINT_DESC` VARCHAR(220) NULL,
  `MAINT_STRT_TIME` DATETIME NULL,
  `MAINT_END_TIME` DATETIME NULL,
  `EQM_ID` INT NOT NULL,
  `MAINT_TYPE` VARCHAR(45) NULL COMMENT 'Maintenance/Repair',
  `USR_ID` INT NOT NULL,
  PRIMARY KEY (`MAINT_ID`),
  INDEX `fk_MAINTENANCE_LOG_MACHINE1_idx` (`EQM_ID` ASC),
  INDEX `fk_MAINTENANCE_LOG_USER1_idx` (`USR_ID` ASC),
  CONSTRAINT `fk_MAINTENANCE_LOG_MACHINE1`
    FOREIGN KEY (`EQM_ID`)
    REFERENCES `team9`.`EQUIPMENT` (`EQM_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MAINTENANCE_LOG_USER1`
    FOREIGN KEY (`USR_ID`)
    REFERENCES `team9`.`USER` (`USR_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`ACTIVITY_LOG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`ACTIVITY_LOG` (
  `ACT_ID` INT NOT NULL AUTO_INCREMENT,
  `EQM_ID` INT NULL,
  `ACT_TIMESTAMP` DATETIME NULL,
  `CUST_ID` INT NULL,
  `USR_ID` INT NOT NULL,
  PRIMARY KEY (`ACT_ID`),
  INDEX `fk_LABUSR_RECORD_MACHINE1_idx` (`EQM_ID` ASC),
  INDEX `fk_ACTIVITY_LOG_CUSTOMER1_idx` (`CUST_ID` ASC),
  INDEX `fk_ACTIVITY_LOG_USER1_idx` (`USR_ID` ASC),
  CONSTRAINT `fk_LABUSR_RECORD_MACHINE1`
    FOREIGN KEY (`EQM_ID`)
    REFERENCES `team9`.`EQUIPMENT` (`EQM_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ACTIVITY_LOG_CUSTOMER1`
    FOREIGN KEY (`CUST_ID`)
    REFERENCES `team9`.`CUSTOMER` (`CUST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ACTIVITY_LOG_USER1`
    FOREIGN KEY (`USR_ID`)
    REFERENCES `team9`.`USER` (`USR_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`PRINTJOB`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`PRINTJOB` (
  `PJ_ID` INT NOT NULL AUTO_INCREMENT,
  `ACT_ID` INT NOT NULL,
  `MODEL_DESC` VARCHAR(220) NULL,
  `CUST_ID` VARCHAR(45) NOT NULL,
  `PJ_PHOTO` VARCHAR(45) NULL,
  `PJ_USR_PHOTO` VARCHAR(45) NULL,
  `PJ_WEIGHT` VARCHAR(45) NOT NULL,
  `PJ_DESIGN_FILE` VARCHAR(45) NULL,
  `PJ_STRT_TIME` DATETIME NOT NULL,
  `PJ_END_TIME` DATETIME NOT NULL,
  `PJ_COLOR1` VARCHAR(45) NULL,
  `PJ_COLOR2` VARCHAR(45) NULL,
  `MAT_ID` INT NOT NULL,
  `PJ_CFOAPL` INT(16) NULL,
  `PJ_ONLINE_TRANSACTION_ID` VARCHAR(45) NULL,
  `PJ_STATUS` ENUM('preparing', 'working', 'holding', 'cancelled') NULL,
  PRIMARY KEY (`PJ_ID`),
  INDEX `fk_PRINTJOB_ACTIVITY_LOG1_idx` (`ACT_ID` ASC),
  INDEX `fk_PRINTJOB_MATERIAL1_idx` (`MAT_ID` ASC),
  CONSTRAINT `fk_PRINTJOB_ACTIVITY_LOG1`
    FOREIGN KEY (`ACT_ID`)
    REFERENCES `team9`.`ACTIVITY_LOG` (`ACT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PRINTJOB_MATERIAL1`
    FOREIGN KEY (`MAT_ID`)
    REFERENCES `team9`.`MATERIAL` (`MTL_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`EVENT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`EVENT` (
  `EVENT_ID` INT NOT NULL AUTO_INCREMENT,
  `EVENT_TITLE` VARCHAR(45) NOT NULL,
  `EVENT_DESC` VARCHAR(45) NULL,
  `EVENT_STRT_TIME` DATETIME NOT NULL,
  `EVENT_END_TIEM` DATETIME NULL,
  `EXT_EVENT_ID` VARCHAR(45) NULL,
  PRIMARY KEY (`EVENT_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`INVOICE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`INVOICE` (
  `INV_ID` INT NOT NULL,
  `INV_ORG_VAL` INT NULL,
  `DISCOUNT` INT NULL,
  `INV_FIN_VAL` INT NULL,
  `INV_TIMESTAMP` DATETIME NULL,
  `CUST_ID` INT NOT NULL,
  PRIMARY KEY (`INV_ID`),
  INDEX `fk_INVOICE_CUSTOMER1_idx` (`CUST_ID` ASC),
  CONSTRAINT `fk_INVOICE_CUSTOMER1`
    FOREIGN KEY (`CUST_ID`)
    REFERENCES `team9`.`CUSTOMER` (`CUST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`ATTENDANCE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`ATTENDANCE` (
  `ATTD_ID` INT NOT NULL,
  `EVENT_ID` INT NOT NULL,
  `CUST_ID` INT NULL,
  `INV_ID` INT NULL,
  `USR_ID` INT NULL,
  `IS_LEADER` TINYINT NOT NULL,
  INDEX `fk_ATTENDEE_EVENT1_idx` (`EVENT_ID` ASC),
  INDEX `fk_ATTENDEE_CUSTOMER1_idx` (`CUST_ID` ASC),
  PRIMARY KEY (`ATTD_ID`),
  INDEX `fk_ATTENDANCE_INVOICE1_idx` (`INV_ID` ASC),
  INDEX `fk_ATTENDANCE_USER1_idx` (`USR_ID` ASC),
  CONSTRAINT `fk_ATTENDEE_EVENT1`
    FOREIGN KEY (`EVENT_ID`)
    REFERENCES `team9`.`EVENT` (`EVENT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ATTENDEE_CUSTOMER1`
    FOREIGN KEY (`CUST_ID`)
    REFERENCES `team9`.`CUSTOMER` (`CUST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ATTENDANCE_INVOICE1`
    FOREIGN KEY (`INV_ID`)
    REFERENCES `team9`.`INVOICE` (`INV_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ATTENDANCE_USER1`
    FOREIGN KEY (`USR_ID`)
    REFERENCES `team9`.`USER` (`USR_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`ESTIMATE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`ESTIMATE` (
  `EST_ID` INT NOT NULL,
  `EST_AMOUNT` DECIMAL(12,4) NULL,
  `EST_TIMESTAMP` VARCHAR(45) NULL,
  `CUST_ID` INT NOT NULL,
  PRIMARY KEY (`EST_ID`),
  INDEX `fk_ESTIMATE_CUSTOMER1_idx` (`CUST_ID` ASC),
  CONSTRAINT `fk_ESTIMATE_CUSTOMER1`
    FOREIGN KEY (`CUST_ID`)
    REFERENCES `team9`.`CUSTOMER` (`CUST_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`SHIPMENT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`SHIPMENT` (
  `SHP_ID` INT NOT NULL,
  `SHP_TRACKING_NUMBER` VARCHAR(45) NULL,
  `SHP_STATUS` ENUM('pending', 'shipped', 'returned', 'delivered') NOT NULL,
  `SHP_ADDR_LINE_1` VARCHAR(220) NULL,
  `SHP_ADDR_LINE_2` VARCHAR(220) NULL,
  `SHP_CITY` VARCHAR(45) NULL,
  `SHP_STATE` VARCHAR(45) NULL,
  `SHP_COUNTRY` VARCHAR(45) NULL,
  `SHP_ZIP_CODE` VARCHAR(45) NULL,
  `SHIPMENTcol` VARCHAR(45) NULL,
  `INV_ID` INT NOT NULL,
  PRIMARY KEY (`SHP_ID`),
  INDEX `fk_SHIPMENT_INVOICE1_idx` (`INV_ID` ASC),
  CONSTRAINT `fk_SHIPMENT_INVOICE1`
    FOREIGN KEY (`INV_ID`)
    REFERENCES `team9`.`INVOICE` (`INV_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`SCANJOB`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`SCANJOB` (
  `SJ_ID` INT NOT NULL AUTO_INCREMENT,
  `ACT_ID` INT NOT NULL,
  `MODEL_DESC` VARCHAR(220) NULL,
  `CUST_ID` VARCHAR(45) NOT NULL,
  `SJ_PHOTO` VARCHAR(45) NULL,
  `SJ_USR_PHOTO` VARCHAR(45) NULL,
  `SJ_DESIGN_FILE` VARCHAR(45) NULL,
  PRIMARY KEY (`SJ_ID`),
  INDEX `fk_SCANJOB_ACTIVITY_LOG1_idx` (`ACT_ID` ASC),
  CONSTRAINT `fk_SCANJOB_ACTIVITY_LOG1`
    FOREIGN KEY (`ACT_ID`)
    REFERENCES `team9`.`ACTIVITY_LOG` (`ACT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`DESIGNJOB`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`DESIGNJOB` (
  `DJ_ID` INT NOT NULL AUTO_INCREMENT,
  `ACT_ID` INT NOT NULL,
  `MODEL_DESC` VARCHAR(220) NULL,
  `CUST_ID` VARCHAR(45) NOT NULL,
  `DJ_SCREENSHOT` VARCHAR(45) NULL,
  `SJ_USR_PHOTO` VARCHAR(45) NULL,
  `DJ_DESIGN_FILE` VARCHAR(45) NULL,
  PRIMARY KEY (`DJ_ID`),
  INDEX `fk_DESIGNJOB_ACTIVITY_LOG1_idx` (`ACT_ID` ASC),
  CONSTRAINT `fk_DESIGNJOB_ACTIVITY_LOG1`
    FOREIGN KEY (`ACT_ID`)
    REFERENCES `team9`.`ACTIVITY_LOG` (`ACT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`MAS_PRI_CATEGORY`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`MAS_PRI_CATEGORY` (
  `MAS_PRI_CAT_ID` INT NOT NULL,
  `MAS_PRI_CAT_NAME` VARCHAR(45) NULL,
  `MAS_PRI_DETAIL` VARCHAR(200) NULL,
  PRIMARY KEY (`MAS_PRI_CAT_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`MASTER_PRICE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`MASTER_PRICE` (
  `MAS_PRI_ID` INT NOT NULL,
  `MAS_PRI_CAT_ID` INT NOT NULL,
  `MAS_PRI_AMOUNT` DOUBLE NOT NULL,
  PRIMARY KEY (`MAS_PRI_ID`),
  INDEX `fk_MASTER_PRICE_MASTER_PRICE_CATEGORY1_idx` (`MAS_PRI_CAT_ID` ASC),
  CONSTRAINT `fk_MASTER_PRICE_MASTER_PRICE_CATEGORY1`
    FOREIGN KEY (`MAS_PRI_CAT_ID`)
    REFERENCES `team9`.`MAS_PRI_CATEGORY` (`MAS_PRI_CAT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `team9`.`INVOICE_LINE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `team9`.`INVOICE_LINE` (
  `INV_LIN_ID` INT NOT NULL,
  `INV_ID` INT NOT NULL,
  `JOB_ID` INT NULL,
  `JOB_TYPE` VARCHAR(45) NULL,
  `MAS_PRI_ID` INT NULL,
  PRIMARY KEY (`INV_LIN_ID`),
  INDEX `fk_INVOICE_LINE_INVOICE1_idx` (`INV_ID` ASC),
  INDEX `fk_INVOICE_LINE_PRINTJOB1_idx` (`JOB_ID` ASC),
  INDEX `fk_INVOICE_LINE_MASTER_PRICE1_idx` (`MAS_PRI_ID` ASC),
  CONSTRAINT `fk_INVOICE_LINE_INVOICE1`
    FOREIGN KEY (`INV_ID`)
    REFERENCES `team9`.`INVOICE` (`INV_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_INVOICE_LINE_PRINTJOB1`
    FOREIGN KEY (`JOB_ID`)
    REFERENCES `team9`.`PRINTJOB` (`PJ_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_INVOICE_LINE_SCANJOB1`
    FOREIGN KEY (`JOB_ID`)
    REFERENCES `team9`.`SCANJOB` (`SJ_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_INVOICE_LINE_DESIGNJOB1`
    FOREIGN KEY (`JOB_ID`)
    REFERENCES `team9`.`DESIGNJOB` (`DJ_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_INVOICE_LINE_MASTER_PRICE1`
    FOREIGN KEY (`MAS_PRI_ID`)
    REFERENCES `team9`.`MASTER_PRICE` (`MAS_PRI_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
